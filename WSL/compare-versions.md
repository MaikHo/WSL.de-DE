---
title: Übersicht über das Windows-Subsystem für Linux
description: Informieren Sie sich über das Windows-Subsystem für Linux, die verschiedenen Versionen und die Art und Weise, wie Sie sie verwenden können.
keywords: BashOnWindows, Bash, WSL, Windows, Windows-Subsystem, GNU, Linux, Ubuntu, Debian, Suse, Windows 10, UX-Änderungen, WSL 2, Linux-Kernel, Netzwerkanwendungen, localhost, IPv6, Virtual Hardware Disk, VHD, VHD-Beschränkungen, VHD-Fehler
ms.date: 05/12/2020
ms.topic: article
ms.localizationpriority: high
ms.openlocfilehash: bbd5b36f7857d136d3eb2f75eb3d1a36ac2b94f7
ms.sourcegitcommit: eaceda3589b9bd777e0fead5ef33bb16060a55d2
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 06/18/2020
ms.locfileid: "84978263"
---
# <a name="comparing-wsl-2-and-wsl-1"></a><span data-ttu-id="4a6cc-104">Vergleich zwischen WSL 2 und WSL 1</span><span class="sxs-lookup"><span data-stu-id="4a6cc-104">Comparing WSL 2 and WSL 1</span></span>

<span data-ttu-id="4a6cc-105">Die Hauptziele bei der Aktualisierung des Windows-Subsystems für Linux auf eine neue Version sind die **verbesserte Dateisystemleistung** und die Unterstützung der **vollständigen Kompatibilität von Systemaufrufen**.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-105">The primary goals of updating the Windows Subsystem for Linux to a new version are to **increase file system performance** and support **full system call compatibility**.</span></span> 

<span data-ttu-id="4a6cc-106">WSL 2 verwendet das Neueste und Beste an Virtualisierungstechnologie, um einen Linux-Kernel innerhalb einer schlanken Hilfsprogramms-VM auszuführen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-106">WSL 2 uses the latest and greatest in virtualization technology to run a Linux kernel inside of a lightweight utility virtual machine (VM).</span></span> <span data-ttu-id="4a6cc-107">WSL 2 ist jedoch keine herkömmliche VM-Benutzererfahrung.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-107">However, WSL 2 is not a traditional VM experience.</span></span> <span data-ttu-id="4a6cc-108">[Erfahren Sie mehr über die WSL 2-Architektur](#wsl-2-architecture).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-108">[Learn more about the WSL 2 architecture](#wsl-2-architecture).</span></span>

## <a name="comparing-features"></a><span data-ttu-id="4a6cc-109">Vergleich der Features</span><span class="sxs-lookup"><span data-stu-id="4a6cc-109">Comparing features</span></span>

<span data-ttu-id="4a6cc-110">Feature</span><span class="sxs-lookup"><span data-stu-id="4a6cc-110">Feature</span></span> | <span data-ttu-id="4a6cc-111">WSL 1</span><span class="sxs-lookup"><span data-stu-id="4a6cc-111">WSL 1</span></span> | <span data-ttu-id="4a6cc-112">WSL 2</span><span class="sxs-lookup"><span data-stu-id="4a6cc-112">WSL 2</span></span>
--- | --- | ---
 <span data-ttu-id="4a6cc-113">Integration zwischen Windows und Linux</span><span class="sxs-lookup"><span data-stu-id="4a6cc-113">Integration between Windows and Linux</span></span>| ✅|✅
 <span data-ttu-id="4a6cc-114">Schnelle Startzeiten</span><span class="sxs-lookup"><span data-stu-id="4a6cc-114">Fast boot times</span></span>| ✅ | ✅
 <span data-ttu-id="4a6cc-115">Geringer Ressourcenbedarf</span><span class="sxs-lookup"><span data-stu-id="4a6cc-115">Small resource foot print</span></span>| ✅ |✅
 <span data-ttu-id="4a6cc-116">Verwaltete VM</span><span class="sxs-lookup"><span data-stu-id="4a6cc-116">Managed VM</span></span>| ❌ | ✅
 <span data-ttu-id="4a6cc-117">Vollständiger Linux-Kernel</span><span class="sxs-lookup"><span data-stu-id="4a6cc-117">Full Linux Kernel</span></span>| ❌ |✅
 <span data-ttu-id="4a6cc-118">Vollständige Kompatibilität von Systemaufrufen</span><span class="sxs-lookup"><span data-stu-id="4a6cc-118">Full system call compatibility</span></span>| ❌ | ✅
 <span data-ttu-id="4a6cc-119">Wird mit aktuellen Versionen von VMWare und VirtualBox ausgeführt</span><span class="sxs-lookup"><span data-stu-id="4a6cc-119">Runs with current versions of VMWare and VirtualBox</span></span>| ✅ | ❌
 <span data-ttu-id="4a6cc-120">Leistung über Betriebssystem-Dateisysteme hinweg</span><span class="sxs-lookup"><span data-stu-id="4a6cc-120">Performance across OS file systems</span></span>| ✅ | ❌

<span data-ttu-id="4a6cc-121">Sie verwenden bereits WSL 1 und möchten ein Upgrade auf WSL 2 ausführen?</span><span class="sxs-lookup"><span data-stu-id="4a6cc-121">Already using WSL 1 and want to upgrade to WSL 2?</span></span> <span data-ttu-id="4a6cc-122">Befolgen Sie die Anweisungen für das [Upgrade auf WSL 2](./install-win10.md#update-to-wsl-2).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-122">Follow the instructions to [update to WSL 2](./install-win10.md#update-to-wsl-2)!</span></span>

<span data-ttu-id="4a6cc-123">WSL 2 ist nur in Windows 10, Version 2004, Build 19041 oder höher verfügbar.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-123">WSL 2 is only available in Windows 10, Version 2004, Build 19041 or higher.</span></span> <span data-ttu-id="4a6cc-124">Überprüfen Sie Ihre Windows-Version, indem Sie die **Windows-Logo-Taste+R** auswählen, **winver** eingeben und **OK** auswählen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-124">Check your Windows version by selecting the **Windows logo key + R**, type **winver**, select **OK**.</span></span> <span data-ttu-id="4a6cc-125">(Oder geben Sie den Befehl `ver` an der Windows-Eingabeaufforderung ein.)</span><span class="sxs-lookup"><span data-stu-id="4a6cc-125">(Or enter the `ver` command in Windows Command Prompt).</span></span> <span data-ttu-id="4a6cc-126">Möglicherweise müssen Sie [auf die neueste Windows-Version aktualisieren](ms-settings:windowsupdate).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-126">You may need to [update to the latest Windows version](ms-settings:windowsupdate).</span></span> <span data-ttu-id="4a6cc-127">Für Builds vor 19041 wird WSL überhaupt nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-127">For builds lower than 19041, WSL is not supported at all.</span></span>

> [!NOTE]
> <span data-ttu-id="4a6cc-128">WSL 2 kann mit [Vorschauversionen von VMWare](https://blogs.vmware.com/workstation/2020/01/vmware-workstation-tech-preview-20h1.html) und [VirtualBox 6.x](https://www.virtualbox.org/wiki/Changelog-6.0) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-128">WSL 2 will work with [preview versions of VMWare](https://blogs.vmware.com/workstation/2020/01/vmware-workstation-tech-preview-20h1.html) and [VirtualBox 6.x](https://www.virtualbox.org/wiki/Changelog-6.0).</span></span>

## <a name="use-the-linux-file-system-for-faster-performance"></a><span data-ttu-id="4a6cc-129">Verwenden des Linux-Dateisystems für eine schnellere Leistung</span><span class="sxs-lookup"><span data-stu-id="4a6cc-129">Use the Linux file system for faster performance</span></span>

<span data-ttu-id="4a6cc-130">Stellen Sie sicher, dass Sie Ihre Projektdateien im Linux-Dateisystem (nicht im Windows-Dateisystem) speichern, um Voraussetzungen für die schnellste Leistungsgeschwindigkeit zu schaffen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-130">In order to optimize for the fastest performance speed, be sure to store your project files in the Linux file system (not the Windows file system).</span></span>

<span data-ttu-id="4a6cc-131">Wenn Sie z. B. die WSL-Projektdateien speichern:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-131">For example, when storing your WSL project files:</span></span>

* <span data-ttu-id="4a6cc-132">Verwenden Sie das Stammverzeichnis des Linux-Dateisystems: `\\wsl$\Ubuntu-18.04\home\<user name>\Project`</span><span class="sxs-lookup"><span data-stu-id="4a6cc-132">Use the Linux file system root directory: `\\wsl$\Ubuntu-18.04\home\<user name>\Project`</span></span>
* <span data-ttu-id="4a6cc-133">Verwenden Sie nicht das Stammverzeichnis des Windows-Dateisystems: `C:\Users\<user name>\Project`</span><span class="sxs-lookup"><span data-stu-id="4a6cc-133">Not the Windows file system root directory: `C:\Users\<user name>\Project`</span></span>

<span data-ttu-id="4a6cc-134">Projektdateien, mit denen Sie mit einer WSL-Verteilung (z. B. Ubuntu) arbeiten, müssen sich im Linux-Stammdateisystem befinden, um von dem schnelleren Dateisystemzugriff zu profitieren.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-134">Project files that you are working with using a WSL distribution (like Ubuntu) must be in the Linux root file system to take advantage of faster file system access.</span></span>

<span data-ttu-id="4a6cc-135">Sie können mit Windows-Apps und -Tools wie dem Datei-Explorer auf Ihr Linux-Stammdateisystem zugreifen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-135">You can access your Linux root file system with Windows apps and tools like File Explorer.</span></span> <span data-ttu-id="4a6cc-136">Öffnen Sie eine Linux-Verteilung (z. B. Ubuntu), und stellen Sie sicher, dass Sie sich im Basisverzeichnis von Linux befinden, indem Sie den Befehl `cd ~` eingeben.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-136">Try opening a Linux distribution (like Ubuntu), be sure that you are in the Linux home directory by entering this command: `cd ~`.</span></span> <span data-ttu-id="4a6cc-137">Öffnen Sie dann das Linux-Dateisystem im Datei-Explorer, indem Sie Folgendes eingeben *(den Punkt am Ende nicht vergessen)* : `explorer.exe .`</span><span class="sxs-lookup"><span data-stu-id="4a6cc-137">Then open your Linux file system in File Explorer by entering *(don't forget the period at the end)*: `explorer.exe .`</span></span>

## <a name="exceptions-for-using-wsl-1-rather-than-wsl-2"></a><span data-ttu-id="4a6cc-138">Ausnahmen zur Verwendung von WSL 1 anstelle von WSL 2</span><span class="sxs-lookup"><span data-stu-id="4a6cc-138">Exceptions for using WSL 1 rather than WSL 2</span></span>

<span data-ttu-id="4a6cc-139">Es wird empfohlen, WSL 2 zu verwenden, da es eine schnellere Leistung und 100%ige Kompatibilität von Systemaufrufen bietet.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-139">We recommend that you use WSL 2 as it offers faster performance and 100% system call compatibility.</span></span> <span data-ttu-id="4a6cc-140">Es gibt jedoch einige spezielle Szenarien, in denen Sie möglicherweise WSL 1 verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-140">However, there are a few specific scenarios where you might prefer using WSL 1.</span></span> <span data-ttu-id="4a6cc-141">Erwägen Sie in folgenden Fällen die Verwendung von WSL 1:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-141">Consider using WSL 1 if:</span></span>

* <span data-ttu-id="4a6cc-142">Ihre Projektdateien müssen im Windows-Dateisystem gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-142">Your project files must be stored in the Windows file system.</span></span>
  * <span data-ttu-id="4a6cc-143">Wenn Sie Ihre WSL Linux-Verteilung verwenden, um auf Projektdateien im Windows-Dateisystem zuzugreifen, und diese Dateien nicht im Linux-Dateisystem gespeichert werden können, erzielen Sie mithilfe von WSL 1 eine schnellere Leistung über die Betriebssystemdateien.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-143">If you will be using your WSL Linux distribution to access project files on the Windows file system, and these files cannot be stored on the Linux file system, you will achieve faster performance across the OS files systems by using WSL 1.</span></span>
* <span data-ttu-id="4a6cc-144">Ein Projekt, das die Kreuzkompilierung mithilfe von Windows- und Linux-Tools für dieselben Dateien erfordert.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-144">A project which requires cross-compilation using both Windows and Linux tools on the same files.</span></span>
  * <span data-ttu-id="4a6cc-145">Die Dateileistung über Windows- und Linux-Betriebssysteme hinweg ist in WSL 1 schneller als in WSL 2. Wenn Sie also Windows-Anwendungen für den Zugriff auf Linux-Dateien verwenden, erzielen Sie derzeit eine schnellere Leistung mit WSL 1.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-145">File performance across the Windows and Linux operating systems is faster in WSL 1 than WSL 2, so if you are using Windows applications to access Linux files, you will currently achieve faster performance with WSL 1.</span></span>

> [!NOTE]
> <span data-ttu-id="4a6cc-146">Probieren Sie den VS-Code [Remote WSL-Erweiterung](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) aus, mit dem Sie Ihre Projektdateien im Linux-Dateisystem speichern können, indem Sie Linux-Befehlszeilentools verwenden, aber auch VS-Code unter Windows zum Verfassen, Bearbeiten, Debuggen oder Ausführen Ihres Projekts in einem Internetbrowser ohne die mit den Linux- und Windows-Dateisystemen verbundenen Leistungseinbußen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-146">Consider trying the VS Code [Remote WSL Extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) to enable you to store your project files on the Linux file system, using Linux command line tools, but also using VS Code on Windows to author, edit, debug, or run your project in an internet browser without any of the performance slow-downs associated with working across the Linux and Windows file systems.</span></span> <span data-ttu-id="4a6cc-147">[Weitere Informationen](https://code.visualstudio.com/docs/remote/wsl)</span><span class="sxs-lookup"><span data-stu-id="4a6cc-147">[Learn more](https://code.visualstudio.com/docs/remote/wsl).</span></span>

## <a name="wsl-2-architecture"></a><span data-ttu-id="4a6cc-148">WSL 2-Architektur</span><span class="sxs-lookup"><span data-stu-id="4a6cc-148">WSL 2 architecture</span></span>

<span data-ttu-id="4a6cc-149">Eine herkömmliche VM-Benutzerumgebung lässt sich unter Umständen nur langsam starten, verbraucht viele Ressourcen und nimmt für die Verwaltung Ihre Zeit in Anspruch.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-149">A traditional VM experience can be slow to boot up, is isolated, consumes lots of resources, and requires your time to manage it.</span></span> <span data-ttu-id="4a6cc-150">WSL 2 weist diese Merkmale nicht auf.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-150">WSL 2 does not have these attributes.</span></span>

<span data-ttu-id="4a6cc-151">WSL 2 bietet die Vorteile von WSL 1, einschließlich der nahtlosen Integration zwischen Windows und Linux, schnellen Startzeiten, einem geringem Ressourcenbedarf und erfordert keine VM-Konfiguration oder -Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-151">WSL 2 provides the benefits of WSL 1, including seamless integration between Windows and Linux, fast boot times, a small resource footprint, and requires no VM configuration or management.</span></span> <span data-ttu-id="4a6cc-152">Zwar verwendet WSL 2 eine VM, diese wird jedoch hinter den Kulissen verwaltet und ausgeführt, und Ihnen bleibt die Benutzererfahrung von WSL 1 erhalten.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-152">While WSL 2 does use a VM, it is managed and run behind the scenes, leaving you with the same user experience as WSL 1.</span></span>

### <a name="full-linux-kernel"></a><span data-ttu-id="4a6cc-153">Vollständiger Linux-Kernel</span><span class="sxs-lookup"><span data-stu-id="4a6cc-153">Full Linux kernel</span></span>

<span data-ttu-id="4a6cc-154">Der Linux-Kernel in WSL 2 wird von Microsoft aus dem aktuellsten Stable-Branch auf der Grundlage der auf „kernel.org“ verfügbaren Quelle erstellt. Dieser Kernel wurde speziell für WSL 2 optimiert und zwar hinsichtlich Größe und Leistung, um unter Windows eine beeindruckende Linux-Erfahrung zu bieten.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-154">The Linux kernel in WSL 2 is built by Microsoft from the latest stable branch, based on the source available at kernel.org. This kernel has been specially tuned for WSL 2, optimizing for size and performance to provide an amazing Linux experience on Windows.</span></span> <span data-ttu-id="4a6cc-155">Der Kernel wird mit Windows-Updates gewartet, was bedeutet, dass Sie die neuesten Sicherheitskorrekturen und Kernelverbesserungen erhalten, ohne die Aktualisierungen selbst verwalten zu müssen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-155">The kernel will be serviced by Windows updates, which means you will get the latest security fixes and kernel improvements without needing to manage it yourself.</span></span>

<span data-ttu-id="4a6cc-156">Der [WSL 2 Linux-Kernel ist Open Source-](https://github.com/microsoft/WSL2-Linux-Kernel).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-156">The [WSL 2 Linux kernel is open source](https://github.com/microsoft/WSL2-Linux-Kernel).</span></span> <span data-ttu-id="4a6cc-157">Wenn Sie weitere Informationen benötigen, lesen Sie den Blogbeitrag [Shipping a Linux Kernel with Windows](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) (Ausliefern eines Linux-Kernels mit Windows), der von dem Team geschrieben wurde, das ihn erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-157">If you'd like to learn more, check out the blog post [Shipping a Linux Kernel with Windows](https://devblogs.microsoft.com/commandline/shipping-a-linux-kernel-with-windows/) written by the team that built it.</span></span>

### <a name="increased-file-io-performance"></a><span data-ttu-id="4a6cc-158">Verbesserte E/A-Leistung für Dateien</span><span class="sxs-lookup"><span data-stu-id="4a6cc-158">Increased file IO performance</span></span>

<span data-ttu-id="4a6cc-159">Dateiintensive Vorgänge wie Git-Klon, npm-Installation, apt-Update, apt-Upgrade und mehr sind mit WSL 2 deutlich schneller.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-159">File intensive operations like git clone, npm install, apt update, apt upgrade, and more are all be noticeably faster with WSL 2.</span></span>

<span data-ttu-id="4a6cc-160">Die tatsächliche Geschwindigkeitssteigerung hängt davon ab, welche App Sie ausführen und wie sie mit dem Dateisystem interagiert.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-160">The actual speed increase will depend on which app you're running and how it is interacting with the file system.</span></span> <span data-ttu-id="4a6cc-161">Anfängliche Versionen von WSL 2 werden im Vergleich mit WSL 1 bis zu 20mal schneller ausgeführt (Entpacken eines gezippten Tarballs) und 2–5mal schneller beim Verwenden von Git-Klon, npm-Installation und CMake in verschiedenen Projekten.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-161">Initial versions of WSL 2 run up to 20x faster compared to WSL 1 when unpacking a zipped tarball, and around 2-5x faster when using git clone, npm install and cmake on various projects.</span></span>

### <a name="full-system-call-compatibility"></a><span data-ttu-id="4a6cc-162">Vollständige Kompatibilität von Systemaufrufen</span><span class="sxs-lookup"><span data-stu-id="4a6cc-162">Full system call compatibility</span></span>

<span data-ttu-id="4a6cc-163">Linux-Binärdateien verwenden Systemaufrufe für Funktionen, wie den Zugriff auf Dateien, das Anfordern von Arbeitsspeicher, das Erstellen von Prozessen und mehr.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-163">Linux binaries use system calls to perform functions such as accessing files, requesting memory, creating processes, and more.</span></span> <span data-ttu-id="4a6cc-164">Während WSL 1 eine Übersetzungsschicht verwendete, die vom WSL-Team erstellt wurde, enthält WSL 2 seinen eigenen Linux-Kernel mit vollständiger Kompatibilität der Systemaufrufe.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-164">Whereas WSL 1 used a translation layer that was built by the WSL team, WSL 2 includes its own Linux kernel with full system call compatibility.</span></span> <span data-ttu-id="4a6cc-165">Vorteile umfassen:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-165">Benefits include:</span></span>

* <span data-ttu-id="4a6cc-166">Ein ganz neuer Satz von Apps, die Sie in WSL ausführen können, wie etwa **[Docker](https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2)** und mehr.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-166">A whole new set of apps that you can run inside of WSL, such as **[Docker](https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2)** and more.</span></span>

* <span data-ttu-id="4a6cc-167">Alle Updates des Linux-Kernels sind sofort einsatzbereit.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-167">Any updates to the Linux kernel are immediately ready for use.</span></span> <span data-ttu-id="4a6cc-168">(Sie müssen nicht warten, bis das WSL-Team Updates implementiert und die Änderungen hinzufügt).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-168">(You don't have to wait for the WSL team to implement updates and add the changes).</span></span>

### <a name="wsl-2-uses-a-smaller-amount-of-memory-on-startup"></a><span data-ttu-id="4a6cc-169">WSL 2 benötigt beim Start weniger Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-169">WSL 2 uses a smaller amount of memory on startup</span></span>

<span data-ttu-id="4a6cc-170">WSL 2 verwendet eine schlanke Hilfsprogramm-VM auf einem echten Linux-Kernel mit geringem Arbeitsspeicherbedarf.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-170">WSL 2 uses a lightweight utility VM on a real Linux kernel with a small memory footprint.</span></span> <span data-ttu-id="4a6cc-171">Das Hilfsprogramm weist beim Start den durch virtuelle Adressen gestützten Arbeitsspeicher zu.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-171">The utility will allocate Virtual Address backed memory on startup.</span></span> <span data-ttu-id="4a6cc-172">Es ist so konfiguriert, dass es mit einem kleinen Anteil des gesamten Arbeitsspeichers startet, der für WSL 1 benötigt wurde.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-172">It is configured to start with a smaller proportion of your total memory that what was required for WSL 1.</span></span>

## <a name="accessing-network-applications"></a><span data-ttu-id="4a6cc-173">Zugriff auf Netzwerkanwendungen</span><span class="sxs-lookup"><span data-stu-id="4a6cc-173">Accessing network applications</span></span>

### <a name="accessing-linux-networking-apps-from-windows-localhost"></a><span data-ttu-id="4a6cc-174">Zugreifen auf Linux-Netzwerk-Apps aus Windows (localhost)</span><span class="sxs-lookup"><span data-stu-id="4a6cc-174">Accessing Linux networking apps from Windows (localhost)</span></span>

<span data-ttu-id="4a6cc-175">Wenn Sie in Ihrer Linux-Verteilung eine Netzwerk-App (z. B. eine App, die auf einer NodeJS- oder SQL Server-Instanz ausgeführt wird) entwickeln, können Sie auf diese über eine Windows-App (z. B. Ihren Edge- oder Chrome-Internetbrowser) unter Verwendung von `localhost` zugreifen (genau wie Sie dies normalerweise tun würden).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-175">If you are building a networking app (for example an app running on a NodeJS or SQL server) in your Linux distribution, you can access it from a Windows app (like your Edge or Chrome internet browser) using `localhost` (just like you normally would).</span></span>

<span data-ttu-id="4a6cc-176">Wenn Sie jedoch eine ältere Version von Windows ausführen (Build 18945 oder älter), müssen Sie die IP-Adresse der Linux-Host-VM abrufen (oder [auf die neueste Windows-Version aktualisieren](ms-settings:windowsupdate)).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-176">However, if you are running an older version of Windows (Build 18945 or less), you will need to get the IP address of the Linux host VM (or [update to the latest Windows version](ms-settings:windowsupdate)).</span></span>

<span data-ttu-id="4a6cc-177">So ermitteln Sie die IP-Adresse des virtuellen Computers, der Ihre Linux-Verteilung unterstützt:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-177">To find the IP address of the virtual machine powering your Linux distribution:</span></span>

* <span data-ttu-id="4a6cc-178">Führen Sie in ihrer WSL-Verteilung (z. B. Ubuntu) den folgenden Befehl aus: `ip addr`</span><span class="sxs-lookup"><span data-stu-id="4a6cc-178">From your WSL distribution (ie Ubuntu), run the command: `ip addr`</span></span>
* <span data-ttu-id="4a6cc-179">Suchen und kopieren Sie die Adresse unter dem `inet`-Wert der `eth0`-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-179">Find and copy the address under the `inet` value of the `eth0` interface.</span></span>
* <span data-ttu-id="4a6cc-180">Wenn Sie das grep-Tool installiert haben, finden Sie es leichter, indem Sie die Ausgabe mit dem Befehl `ip addr | grep eth0` filtern.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-180">If you have the grep tool installed, find this more easily by filtering the output with the command: `ip addr | grep eth0`</span></span>
* <span data-ttu-id="4a6cc-181">Stellen Sie mithilfe dieser IP-Adresse eine Verbindung mit Ihrem Linux-Server her.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-181">Connect to your Linux server using this IP address.</span></span>

<span data-ttu-id="4a6cc-182">Die Abbildung zeigt ein Beispiel dafür – hier wird mithilfe des Microsoft Edge-Browsers eine Verbindung mit einem Node.js-Server hergestellt.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-182">The picture below shows an example of this by connecting to a Node.js server using the Edge browser.</span></span>

![Zugreifen auf Linux-Netzwerkanwendungen aus Windows](media/wsl2-network-w2l.jpg)

### <a name="accessing-windows-networking-apps-from-linux-host-ip"></a><span data-ttu-id="4a6cc-184">Zugreifen auf Windows-Netzwerk-Apps aus Linux (Host-IP)</span><span class="sxs-lookup"><span data-stu-id="4a6cc-184">Accessing Windows networking apps from Linux (host IP)</span></span>

<span data-ttu-id="4a6cc-185">Wenn Sie von Ihrer Linux-Verteilung (d. h. Ubuntu) aus, auf eine Netzwerk-App zugreifen möchten, die unter Windows ausgeführt wird (z. B. eine App, die auf einer NodeJS- oder SQL Server-Instanz ausgeführt wird), müssen Sie die IP-Adresse des Hostcomputers verwenden.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-185">If you want to access a networking app running on Windows (for example an app running on a NodeJS or SQL server) from your Linux distribution (ie Ubuntu), then you need to use the IP address of your host machine.</span></span> <span data-ttu-id="4a6cc-186">Obwohl dies kein gängiges Szenario ist, können Sie die folgenden Schritte ausführen, damit es funktioniert.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-186">While this is not a common scenario, you can follow these steps to make it work.</span></span>
    - <span data-ttu-id="4a6cc-187">Rufen Sie die IP-Adresse Ihres Hostcomputers ab, indem Sie den folgenden Befehl aus Ihrer Linux-Verteilung heraus ausführen: `cat /etc/resolv.conf`</span><span class="sxs-lookup"><span data-stu-id="4a6cc-187">Obtain the IP address of your host machine by running this command from your Linux distribution: `cat /etc/resolv.conf`</span></span>
    - <span data-ttu-id="4a6cc-188">Kopieren Sie die IP-Adresse nach dem Begriff: `nameserver`.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-188">Copy the IP address following the term: `nameserver`.</span></span>
    - <span data-ttu-id="4a6cc-189">Stellen Sie mithilfe der kopierten IP-Adresse eine Verbindung zu jedem beliebigen Windows-Server her.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-189">Connect to any Windows server using the copied IP address.</span></span>

<span data-ttu-id="4a6cc-190">Die Abbildung zeigt ein Beispiel dafür – hier wird über curl eine Verbindung mit einem Node.js-Server hergestellt, der unter Windows ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-190">The picture below shows an example of this by connecting to a Node.js server running in Windows via curl.</span></span>

![Zugreifen auf Linux-Netzwerkanwendungen aus Windows](media/wsl2-network-l2w.png)

### <a name="additional-networking-considerations"></a><span data-ttu-id="4a6cc-192">Weitere Netzwerküberlegungen</span><span class="sxs-lookup"><span data-stu-id="4a6cc-192">Additional networking considerations</span></span>

#### <a name="connecting-via-remote-ip-addresses"></a><span data-ttu-id="4a6cc-193">Verbinden über Remote-IP-Adressen</span><span class="sxs-lookup"><span data-stu-id="4a6cc-193">Connecting via remote IP addresses</span></span>

<span data-ttu-id="4a6cc-194">Wenn Sie Remote-IP-Adressen verwenden, um Verbindungen mit Ihren Anwendungen herzustellen, werden diese als Verbindungen aus dem LAN (Local Area Network) behandelt.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-194">When using remote IP addresses to connect to your applications, they will be treated as connections from the Local Area Network (LAN).</span></span> <span data-ttu-id="4a6cc-195">Dies bedeutet, Sie müssen sicherstellen, dass Ihre Anwendung LAN-Verbindungen akzeptieren kann.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-195">This means that you will need to make sure your application can accept LAN connections.</span></span>

<span data-ttu-id="4a6cc-196">Sie müssen z. B. möglicherweise Ihre Anwendung an `0.0.0.0` statt an `127.0.0.1` binden.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-196">For example, you may need to bind your application to `0.0.0.0` instead of `127.0.0.1`.</span></span> <span data-ttu-id="4a6cc-197">In dem Beispiel einer Python-App, die Flask verwendet, kann das mithilfe dieses Befehls erfolgen: `app.run(host='0.0.0.0')`.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-197">In the example of a Python app using Flask, this can be done with the command: `app.run(host='0.0.0.0')`.</span></span> <span data-ttu-id="4a6cc-198">Beachten Sie bei diesen Änderungen die Sicherheit, da Verbindungen aus Ihrem LAN zugelassen werden.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-198">Please keep security in mind when making these changes as this will allow connections from your LAN.</span></span>

#### <a name="accessing-a-wsl-2-distribution-from-your-local-area-network-lan"></a><span data-ttu-id="4a6cc-199">Zugreifen auf eine WSL 2-Verteilung aus Ihrem LAN (Local Area Network)</span><span class="sxs-lookup"><span data-stu-id="4a6cc-199">Accessing a WSL 2 distribution from your local area network (LAN)</span></span>

<span data-ttu-id="4a6cc-200">Wenn Sie eine WSL 1-Verteilung verwenden und Ihr Computer so eingerichtet wurde, dass auf ihn über Ihr LAN zugegriffen wird, kann auf Anwendungen, die in WSL ausgeführt werden, in Ihrem LAN ebenfalls zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-200">When using a WSL 1 distribution, if your computer was set up to be accessed by your LAN, then applications run in WSL could be accessed on your LAN as well.</span></span>

<span data-ttu-id="4a6cc-201">Dies ist nicht der Standardfall in WSL 2.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-201">This isn't the default case in WSL 2.</span></span> <span data-ttu-id="4a6cc-202">WSL 2 verfügt über einen virtualisierten Ethernet-Adapter mit einer eigenen eindeutigen IP-Adresse.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-202">WSL 2 has a virtualized ethernet adapter with its own unique IP address.</span></span> <span data-ttu-id="4a6cc-203">Um diesen Workflow zu aktivieren, müssen Sie aktuell die gleichen Schritte wie bei einem gewöhnlichen virtuellen Computer durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-203">Currently, to enable this workflow you will need to go through the same steps as you would for a regular virtual machine.</span></span> <span data-ttu-id="4a6cc-204">(Wir untersuchen Möglichkeiten, dieses Verhalten zu verbessern.)</span><span class="sxs-lookup"><span data-stu-id="4a6cc-204">(We are looking into ways to improve this experience.)</span></span>

#### <a name="ipv6-access"></a><span data-ttu-id="4a6cc-205">IPv6-Zugriff</span><span class="sxs-lookup"><span data-stu-id="4a6cc-205">IPv6 access</span></span>

<span data-ttu-id="4a6cc-206">WSL 2-Verteilungen können aktuell keine reinen IPv6-Adressen erreichen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-206">WSL 2 distributions currently cannot reach IPv6-only addresses.</span></span> <span data-ttu-id="4a6cc-207">Wir arbeiten daran, diese Funktion hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-207">We are working on adding this feature.</span></span>

## <a name="expanding-the-size-of-your-wsl-2-virtual-hardware-disk"></a><span data-ttu-id="4a6cc-208">Erweitern der Größe Ihrer virtuellen WSL 2-Festplatte (VHD)</span><span class="sxs-lookup"><span data-stu-id="4a6cc-208">Expanding the size of your WSL 2 Virtual Hardware Disk</span></span>

<span data-ttu-id="4a6cc-209">WSL 2 verwendet eine virtuelle Festplatte (VHD) zum Speichern Ihrer Linux-Dateien.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-209">WSL 2 uses a Virtual Hardware Disk (VHD) to store your Linux files.</span></span> <span data-ttu-id="4a6cc-210">Wenn die maximale Größe erreicht ist, müssen Sie sie möglicherweise erweitern.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-210">If you reach its max size you may need to expand it.</span></span>

<span data-ttu-id="4a6cc-211">Die WSL 2-VHD verwendet das Ext4-Dateisystem.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-211">The WSL 2 VHD uses the ext4 file system.</span></span> <span data-ttu-id="4a6cc-212">Diese VHD wird automatisch an Ihre Speicheranforderungen angepasst, und verfügt über eine anfängliche maximale Größe von 256 GB.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-212">This VHD automatically resizes to meet your storage needs and has an initial maximum size of 256GB.</span></span> <span data-ttu-id="4a6cc-213">Wenn Ihre Verteilung über die Größe von 256 GB anwächst, werden Ihnen Fehler angezeigt, die besagen, dass kein Speicherplatz mehr zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-213">If your distribution grows in size to be greater than 256GB, you will see errors stating that you've run out of disk space.</span></span> <span data-ttu-id="4a6cc-214">Sie können diesen Fehler beheben, indem Sie die Größe der VHD heraufsetzen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-214">You can fix this error by expanding the VHD size.</span></span>

<span data-ttu-id="4a6cc-215">So erweitern Sie die maximale VHD-Größe auf über 256 GB:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-215">To expand your maximum VHD size beyond 256GB:</span></span>

1. <span data-ttu-id="4a6cc-216">Beenden Sie alle WSL-Instanzen mit dem Befehl `wsl --shutdown`.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-216">Terminate all WSL instances using the command: `wsl --shutdown`</span></span>

2. <span data-ttu-id="4a6cc-217">Suchen Sie das Installationspaket Ihrer Verteilung mit dem Namen „PackageFamilyName“.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-217">Find your distribution installation package name ('PackageFamilyName')</span></span>
    * <span data-ttu-id="4a6cc-218">Geben Sie in PowerShell Folgendes ein (wobei „distro“ für den Namen Ihrer Verteilung steht):</span><span class="sxs-lookup"><span data-stu-id="4a6cc-218">Using PowerShell (where 'distro' is your distribution name) enter the command:</span></span>
    * `Get-AppxPackage -Name "*<distro>*" | Select PackageFamilyName`

3. <span data-ttu-id="4a6cc-219">Suchen Sie den `fullpath` der VHD-Datei, die von Ihrer WSL 2-Installation verwendet wird, dies ist Ihr `pathToVHD`:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-219">Locate the VHD file `fullpath` used by your WSL 2 installation, this will be your `pathToVHD`:</span></span>
     * `%LOCALAPPDATA%\Packages\<PackageFamilyName>\LocalState\<disk>.vhdx`

4. <span data-ttu-id="4a6cc-220">Ändern Sie die Größe Ihrer WSL 2-VHD, indem Sie die folgenden Befehle ausführen:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-220">Resize your WSL 2 VHD by completing the following commands:</span></span>
   * <span data-ttu-id="4a6cc-221">Öffnen Sie die Windows-Eingabeaufforderung mit Administratorrechten, und geben Sie Folgendes ein:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-221">Open Windows Command Prompt with admin privileges and enter:</span></span>
      * `diskpart`
      * `Select vdisk file="<pathToVHD>"`
      * `expand vdisk maximum="<sizeInMegaBytes>"`

5. <span data-ttu-id="4a6cc-222">Starten Sie Ihre WSL-Verteilung (z. B. Ubuntu).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-222">Launch your WSL distribution (Ubuntu, for example).</span></span>

6. <span data-ttu-id="4a6cc-223">Machen Sie WSL darauf aufmerksam, dass die Größe des Dateisystems durch Ausführen dieser Befehle über die Befehlszeile der Linux-Verteilung erweitert werden kann:</span><span class="sxs-lookup"><span data-stu-id="4a6cc-223">Make WSL aware that it can expand its file system's size by running these commands from your Linux distribution command line:</span></span>
    * `sudo mount -t devtmpfs none /dev`
    * `mount | grep ext4`
    * <span data-ttu-id="4a6cc-224">Kopieren Sie den Namen dieses Eintrags, der diese Form hat: `/dev/sdXX` (wobei X für ein beliebiges anderes Zeichen steht).</span><span class="sxs-lookup"><span data-stu-id="4a6cc-224">Copy the name of this entry, which will look like: `/dev/sdXX` (with the X representing any other character)</span></span>
    * `sudo resize2fs /dev/sdXX`
    * <span data-ttu-id="4a6cc-225">Verwenden Sie den Wert, den Sie zuvor kopiert haben.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-225">Use the value you copied earlier.</span></span> <span data-ttu-id="4a6cc-226">Möglicherweise müssen Sie auch „resize2fs“ installieren: `apt install resize2fs`</span><span class="sxs-lookup"><span data-stu-id="4a6cc-226">You may also need to install resize2fs: `apt install resize2fs`</span></span>

> [!NOTE]
> <span data-ttu-id="4a6cc-227">Im Allgemeinen sollten Sie die WSL-bezogenen Dateien, die sich in Ihrem AppData-Ordner befinden, nicht mithilfe von Windows-Tools oder-Editoren ändern, verschieben oder darauf zugreifen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-227">In general do not modify, move, or access the WSL related files located inside of your AppData folder using Windows tools or editors.</span></span> <span data-ttu-id="4a6cc-228">Dies könnte zu einer Beschädigung Ihrer Linux-Verteilung führen.</span><span class="sxs-lookup"><span data-stu-id="4a6cc-228">Doing so could cause your Linux distribution to become corrupted.</span></span>
